{
  "name": "rallio-chute-service",
  "version": "1.0.0",
  "main": "index.js",
  "license": "UNLICENSED",
  "private": true,
  "scripts": {
    "test": "yarn && yarn jest --bail",
    "test:ci": "yarn && yarn pg-test:start && sleep 10 && yarn pg-test:migrate && yarn sqs-local:start && yarn jest",
    "jest": "PORT=3001; npx jest --config --runInBand",
    "lint": "npx eslint .",
    "send-message": "node app/sqs-send-message.js",
    "long-poll": "node app/long-poll.js",
    "db:create": "npx sequelize db:create",
    "db:migrate": "npx sequelize db:migrate",
    "db:seed:all": "npx sequelize db:seed:all",
    "start": "node --optimize_for_size --max_old_space_size=460 --gc_interval=10 index.js",
    "dev": "yarn && node index.js",
    "start:staging": "yarn && NODE_ENV=staging node index.js",
    "sqs-local:dev:start": "yarn sqs-local:start && yarn sqs-local:create-queue",
    "sqs-local:dev:stop": "yarn sqs-local:stop && yarn sqs-local:remove",
    "sqs-local:start": "npx docker run -d -p 9324:9324 vsouza/sqs-local",
    "sqs-local:stop": "npx docker ps -a | grep -E 'vsouza/sqs-local' | awk '{print $1}' | xargs npx docker stop",
    "sqs-local:remove": "npx docker ps -a | grep -E 'vsouza/sqs-local' | awk '{print $1}' | xargs npx docker container rm",
    "sqs-local:create-queue": "aws --endpoint http://127.0.0.1:9324 sqs create-queue --queue-name photo-liked",
    "pg-local:start": "npx docker run --name chute-postgres -e POSTGRES_DB=chute_development -d -p 5433:5432 postgres",
    "pg-local:stop": "npx docker ps -a | grep -E 'chute-postgres' | awk '{print $1}' | xargs npx docker stop",
    "pg-local:remove": "npx docker ps -a | grep -E 'chute-postgres' | awk '{print $1}' | xargs npx docker container rm",
    "pg-test:setup": "pg-test:start && yarn pg-test:migrate",
    "pg-test:migrate": "NODE_ENV=test yarn db:migrate",
    "pg-test:start": "npx docker run --name chute-postgres-test -e POSTGRES_DB=chute_test -d -p 5434:5432 postgres",
    "pg-test:stop": "npx docker ps -a | grep -E 'chute-postgres-test' | awk '{print $1}' | xargs npx docker stop",
    "pg-test:remove": "npx docker ps -a | grep -E 'chute-postgres-test' | awk '{print $1}' | xargs npx docker container rm",
    "pg-test-reset": "yarn pg-test:stop && yarn pg-test:remove && yarn pg-test:setup",
    "env": "cp .env-sample .env"
  },
  "dependencies": {
    "aws-sdk": "^2.828.0",
    "dotenv": "^8.2.0",
    "express": "^4.17.1",
    "jest-cli": "^26.6.3",
    "node-fetch": "^2.6.1",
    "pg": "^8.5.1",
    "request": "^2.88.2",
    "sequelize": "^6.4.0",
    "sequelize-cli": "^6.2.0"
  },
  "devDependencies": {
    "@babel/core": "^7.12.10",
    "@babel/preset-env": "^7.12.11",
    "babel-jest": "^26.6.3",
    "docker-cli": "^0.0.2",
    "eslint": "^7.18.0",
    "faker": "^5.1.0",
    "jest": "^26.6.3",
    "nodemon": "^2.0.7"
  }
}
